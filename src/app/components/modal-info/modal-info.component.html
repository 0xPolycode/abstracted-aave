<div
  *ngIf="modalData$ | async as modalData"
  (click)="dismissModal()"
  class="w-screen cursor-pointer h-screen fixed top-0 left-0 bg-[rgba(0,0,0,0.2)] z-50 backdrop-blur-[2px] flex flex-row justify-center items-center"
>
  <div
    (click)="$event.stopPropagation()"
    class="max-w-lg cursor-default w-full bg-white items-center flex flex-col gap-y-4 p-8 rounded-md"
  >
    <div
      *ngIf="modalData.type === 'warning'"
      class="text-sm font-light text-yellow-600"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-triangle-alert"
      >
        <path
          d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"
        />
        <path d="M12 9v4" />
        <path d="M12 17h.01" />
      </svg>
    </div>
    <div
      *ngIf="modalData.type === 'info'"
      class="text-sm font-light text-indigo-700"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-info"
      >
        <circle cx="12" cy="12" r="10" />
        <path d="M12 16v-4" />
        <path d="M12 8h.01" />
      </svg>
    </div>
    <div
      *ngIf="modalData.type === 'error'"
      class="text-sm font-light text-red-700"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-circle-x"
      >
        <circle cx="12" cy="12" r="10" />
        <path d="m15 9-6 6" />
        <path d="m9 9 6 6" />
      </svg>
    </div>
    <div
      *ngIf="modalData.type === 'success'"
      class="text-sm font-light text-green-700"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-circle-check"
      >
        <circle cx="12" cy="12" r="10" />
        <path d="m9 12 2 2 4-4" />
      </svg>
    </div>
    <div class="text-lg font-semibold">{{ modalData.title }}</div>
    <div class="text-sm font-normal text-slate-700">{{ modalData.message }}</div>
    <div *ngIf="modalData.link as link">
      <a
        class="underline hover:text-indigo-700"
        [href]="link.link"
        target="_blank"
        >{{ link.text }}</a
      >
    </div>
    <button
      *ngIf="modalData.type !== 'loading'"
      (click)="dismissModal()"
      class="w-full py-3 flex flex-row justify-center items-center bg-gradient-to-r
       from-violet-700 rounded-md to-indigo-600 text-white"
    >
      Dismiss
    </button>
    <div *ngIf="modalData.type === 'loading'">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-loader animate-spin"
      >
        <path d="M12 2v4" />
        <path d="m16.2 7.8 2.9-2.9" />
        <path d="M18 12h4" />
        <path d="m16.2 16.2 2.9 2.9" />
        <path d="M12 18v4" />
        <path d="m4.9 19.1 2.9-2.9" />
        <path d="M2 12h4" />
        <path d="m4.9 4.9 2.9 2.9" />
      </svg>
    </div>
  </div>
</div>
